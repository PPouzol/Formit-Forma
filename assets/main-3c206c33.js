import{R as F,r as h,j as l,F as _,a as w,c as W}from"./index-976c8e59.js";/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}var v;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(v||(v={}));const N="popstate";function z(e){e===void 0&&(e={});function t(o,i){let{pathname:s="/",search:c="",hash:u=""}=k(o.location.hash.substr(1));return U("",{pathname:s,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){let s=o.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let u=o.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof i=="string"?i:H(i))}function n(o,i){T(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return G(t,r,n,e)}function $(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q(){return Math.random().toString(36).substr(2,8)}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function U(e,t,r,n){return r===void 0&&(r=null),P({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?k(t):t,{state:r,key:t&&t.key||n||q()})}function H(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function k(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function G(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:i=!1}=n,s=o.history,c=v.Pop,u=null,d=m();d==null&&(d=0,s.replaceState(P({},s.state,{idx:d}),""));function m(){return(s.state||{idx:null}).idx}function y(){c=v.Pop;let a=m(),f=a==null?null:a-d;d=a,u&&u({action:c,location:p.location,delta:f})}function b(a,f){c=v.Push;let g=U(p.location,a,f);r&&r(g,a),d=m()+1;let I=R(g,d),C=p.createHref(g);try{s.pushState(I,"",C)}catch{o.location.assign(C)}i&&u&&u({action:c,location:p.location,delta:1})}function S(a,f){c=v.Replace;let g=U(p.location,a,f);r&&r(g,a),d=m();let I=R(g,d),C=p.createHref(g);s.replaceState(I,"",C),i&&u&&u({action:c,location:p.location,delta:0})}function x(a){let f=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof a=="string"?a:H(a);return $(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let p={get action(){return c},get location(){return e(o,s)},listen(a){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(N,y),u=a,()=>{o.removeEventListener(N,y),u=null}},createHref(a){return t(o,a)},createURL:x,encodeLocation(a){let f=x(a);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:b,replace:S,go(a){return s.go(a)}};return p}var M;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(M||(M={}));function J(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const K=["post","put","patch","delete"];[...K];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const X=typeof Object.is=="function"?Object.is:Q,{useState:Y,useEffect:Z,useLayoutEffect:ee,useDebugValue:te}=F;function ne(e,t,r){const n=t(),[{inst:o},i]=Y({inst:{value:n,getSnapshot:t}});return ee(()=>{o.value=n,o.getSnapshot=t,E(o)&&i({inst:o})},[e,n,t]),Z(()=>(E(o)&&i({inst:o}),e(()=>{E(o)&&i({inst:o})})),[e]),te(n),n}function E(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!X(r,n)}catch{return!0}}function re(e,t,r){return t()}const oe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ie=!oe,ae=ie?re:ne;"useSyncExternalStore"in F&&(e=>e.useSyncExternalStore)(F);const le=h.createContext(null),V=h.createContext(null);function se(){return h.useContext(V)!=null}var O;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(O||(O={}));var j;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(j||(j={}));function ce(e){let{basename:t="/",children:r=null,location:n,navigationType:o=v.Pop,navigator:i,static:s=!1}=e;se()&&$(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:s}),[c,i,s]);typeof n=="string"&&(n=k(n));let{pathname:d="/",search:m="",hash:y="",state:b=null,key:S="default"}=n,x=h.useMemo(()=>{let p=J(d,c);return p==null?null:{pathname:p,search:m,hash:y,state:b,key:S}},[c,d,m,y,b,S]);return x==null?null:h.createElement(le.Provider,{value:u},h.createElement(V.Provider,{children:r,value:{location:x,navigationType:o}}))}var A;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(A||(A={}));new Promise(()=>{});/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ue(e){let{basename:t,children:r,window:n}=e,o=h.useRef();o.current==null&&(o.current=z({window:n,v5Compat:!0}));let i=o.current,[s,c]=h.useState({action:i.action,location:i.location});return h.useLayoutEffect(()=>i.listen(c),[i]),h.createElement(ce,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:i})}var B;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(B||(B={}));var D;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D||(D={}));class L{initialize(t){FormItInterface.Initialize(t)}getCookie(t){return window.localStorage.getItem(t)}openDialog(t){if(t){let r=window.open("https://app.spacemaker.ai/auth/login?rd=https%3A%2F%2Fapp.spacemaker.ai%2Fprojects","_blank","width= 500px, height=500px"),n=setInterval(()=>{window.localStorage.getItem("ajs_user_id")===null?clearInterval(n):r!==null&&r.close()},500)}else FormItInterface.CallMethod("FormitPlugin.ShowDialog")}}class de extends h.Component{constructor(t){super(t),this.state={loggedIn:!1}}componentDidMount(){}static login(){return new L().openDialog(!1),null}render(){return l(_,{})}}class he extends h.Component{constructor(t){super(t)}componentWillUnmount(){window.location.reload()}handleFetch(){this.setState({message:"",loading:!0})}handlePush(){this.setState({message:"",loading:!0})}render(){return this.state,l("div",{className:"col-md-12",children:w("div",{className:"card card-container",children:[l("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),l("h3",{children:"Forma component"})]})})}}var fe=l(he,{});class pe extends h.Component{constructor(t){super(t),this.state={currentUser:void 0}}componentDidMount(){debugger;new L().initialize();let r=document.getElementById("LoginButton");r!==null&&(r.onclick=de.login)}compileFromCookie(){debugger;let r=new L().getCookie("ajs_user_id"),n=null;return r===null?n=l("div",{id:"LoginControls",className:"",children:w("button",{id:"LoginButton",className:"button is-link",children:[l("span",{children:"Login"}),l("i",{className:"fab fa-github fa-lg"})]})}):n=fe,n}render(){return l("div",{id:"PluginWrapper",children:w("div",{id:"PluginContainer",children:[l("h1",{className:"title",children:"Formit-Forma"}),l("div",{id:"AppControls",children:l("div",{className:"container mt-3",children:l("div",{id:"app",children:"compileFromCookie()"})})}),w("div",{id:"NoAccess",hidden:!0,children:[l("div",{children:l("div",{className:"alertIcon"})}),w("div",{children:["It looks like your web browser is in private or incognito mode. Formit-Forma plugin needs to save data to the local storage, so it can only be used in standard browsing mode.",l("br",{}),l("br",{}),"To use Formit-Forma Plugin, please switch to standard browsing mode."]})]})]})})}}debugger;const ge=W.createRoot(document.getElementById("root"));ge.render(l(_,{children:l("div",{id:"MainControls",children:l(ue,{children:l(pe,{})})})}));
